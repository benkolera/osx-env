(setq lib-dir "{{ emacs_lib }}/")
(setq etc-dir "{{ emacs_etc }}/")
(setq var-dir "{{ emacs_var }}/")
(setq tmp-dir "{{ emacs_tmp }}/")

(setq exec-path (append exec-path '("{{user_bin}}" "/usr/local/bin/")))
    
(let ((default-directory lib-dir))
      (normal-top-level-add-to-load-path '("."))
      (normal-top-level-add-subdirs-to-load-path))

(setq autoload-file (concat etc-dir "loaddefs.el"))
(setq custom-file (concat etc-dir "custom.el"))

(defun configure (path) (load-file (concat etc-dir path ".el")))

(configure "nogui")
(configure "theme")
(configure "backups")
(configure "package")
(configure "salesforce")
(configure "linum")
(configure "fci-mode")
(configure "search")
(configure "nav")
(configure "autocomplete")
(configure "indent")
(configure "yasnippet")
(configure "perl")
(configure "scala")
(configure "haskell")
(configure "org")
(configure "filemenu")
(configure "misc")
(configure "yaml")
(configure "write-date")
(configure "latex")
(configure "git")
(configure "modeline")
(configure "web")
(configure "unicode")
(configure "shell")

(put 'dired-find-alternate-file 'disabled nil)
(put 'narrow-to-region 'disabled nil)

(server-start)
